.. decitala documentation master file, created by
   sphinx-quickstart on Sun Nov 15 16:04:11 2020.
   You can adapt this file completely to your liking, but it should at least
   contain the root `toctree` directive.

Decitala Documentation
====================================

Tools for automating ethnological rhythmic analysis of Olivier Messiaen's music. The basic
pipeline used in this package is Search →→ Path Finding →→ Analysis.

Installation
====================================
Run the following::

   $ cd # Navigate to home directory
   $ git clone https://github.com/Luke-Poeppel/decitala.git
   $ cd decitala
   $ pip3 install -e .
   $ pre-commit install
   $ decitala --version # Check for proper installation.

Rhythmic Manipulation
====================================
Messiaen often altered rhythmic fragments from the various datasets he used before including 
them in his compositions. He still establishes an equivalence relation where
a fragment :math:`F` and a transformed fragment :math:`T(F)` are examples of the same fragment so long as there
exists a highly specified (but simple) transformation between them. These possible 
transformations include multiplicative augmentation, additive augmentation, mixed augmentation, 
flips into retrograde, subdivision, and "contiguous summation."

Basic Usage
====================================
Normally, this package is used to find paths of rhythms through a given composition. If we're interested in 
finding the "best" path of Greek metrics through a given part, we can simply use the following: 

   >>> composition = "/Users/lukepoeppel/decitala/tests/static/Shuffled_Transcription_1.xml"
   >>> from decitala.search import path_finder
   >>> from decitala.hash_table import GreekFootHashTable
   >>> path = path_finder(
   ...   filename=composition,
   ...   part_num=0,
   ...   table=GreekFootHashTable(),
   ...   algorithm="floyd-warshall",
   ...   slur_constraint=True
   ... )
   >>> for fragment in path:
   ...   print(fragment["fragment"], fragment["onset_range"])
   ...
   <fragment.GreekFoot Peon_IV> (0.0, 0.625)
   <fragment.GreekFoot Iamb> (0.875, 1.25)
   <fragment.GreekFoot Peon_IV> (1.25, 1.875)
   <fragment.GreekFoot Peon_IV> (2.375, 3.0)

Each element of `path` stores a number of pieces information including the fragment, onset range (as are shown above), the 
associated pitch content of the region, whether it is slurred, the modification type of the fragment, etc... 

.. toctree::
   :maxdepth: 2
   :caption: Contents:

.. toctree::
   :maxdepth: 2
   :caption: Modules
   :glob:

   mods/database
   mods/fragment
   mods/hash_table
   mods/path_finding
   mods/search
   mods/trees
   mods/utils
   mods/vis

.. toctree::
   :maxdepth: 2
   :caption: Rhythmic Fragments
   :glob:

   datasets/decitalas
   datasets/greek_metrics

Indices and tables
==================

* :ref:`genindex`
* :ref:`modindex`
* :ref:`search`
