

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>database.py &mdash; decitala 0.6.3 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="fragment.py" href="fragment.html" />
    <link rel="prev" title="Decitala Documentation" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> decitala
          

          
          </a>

          
            
            
              <div class="version">
                0.6.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Modules</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">database.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="fragment.html">fragment.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="pofp.html">pofp.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="trees.html">trees.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">utils.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="vis.html">vis.py</a></li>
</ul>
<p class="caption"><span class="caption-text">Rhythmic Fragments</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="decitalas.html">Desītālas</a></li>
<li class="toctree-l1"><a class="reference internal" href="greek_metrics.html">Greek Metrics</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">decitala</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>database.py</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/database.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-decitala.database">
<span id="database-py"></span><h1>database.py<a class="headerlink" href="#module-decitala.database" title="Permalink to this headline">¶</a></h1>
<p>Tools for creating SQLite databases of extracted rhythmic data from Messiaen’s music.</p>
<dl class="py function">
<dt id="decitala.database.create_database">
<code class="sig-prename descclassname">decitala.database.</code><code class="sig-name descname">create_database</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">db_path</span></em>, <em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">part_num</span></em>, <em class="sig-param"><span class="n">frag_types</span><span class="o">=</span><span class="default_value">['decitala']</span></em>, <em class="sig-param"><span class="n">rep_types</span><span class="o">=</span><span class="default_value">['ratio', 'difference']</span></em>, <em class="sig-param"><span class="n">allowed_modifications</span><span class="o">=</span><span class="default_value">['r', 'rr', 'd', 'rd', 'sr', 'rsr']</span></em>, <em class="sig-param"><span class="n">try_contiguous_summation</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">windows</span><span class="o">=</span><span class="default_value">[2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19]</span></em>, <em class="sig-param"><span class="n">allow_unnamed</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">filter_found_single_anga_class</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">filter_found_sub_fragments</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">keep_grace_notes</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">write_logs_to_file</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/decitala/database.html#create_database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#decitala.database.create_database" title="Permalink to this definition">¶</a></dt>
<dd><p>This function generates an sqlite3 database for storing extracted rhythmic data from <a class="reference internal" href="trees.html#decitala.trees.rolling_search" title="decitala.trees.rolling_search"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decitala.trees.rolling_search</span></code></a>.
The database holds has one page for storing all extracted fragments, their onsets/offsets of occurrence, and their 
modification data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db_path</strong> (<em>str</em>) – path where the .db file will be written.</p></li>
<li><p><strong>filepath</strong> (<em>str</em>) – path to score.</p></li>
<li><p><strong>part_num</strong> (<em>int</em>) – part number in the score.</p></li>
<li><p><strong>filter_single_anga_class</strong> (<em>bool</em>) – whether or not to remove single-anga class fragments from the data in rolling_search.</p></li>
<li><p><strong>filter_found_sub_fragments</strong> (<em>bool</em>) – whether or not to remove sub-fragments from the dataset.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – whether or not to log information about the database creation process (including data from rolling search).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>sqlite3 database</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>db file</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="decitala.database.DBParser">
<em class="property">class </em><code class="sig-prename descclassname">decitala.database.</code><code class="sig-name descname">DBParser</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">db_path</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/decitala/database.html#DBParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#decitala.database.DBParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class used for parsing the SQLite database made in <a class="reference internal" href="#decitala.database.create_database" title="decitala.database.create_database"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_database</span></code></a>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">example_data</span> <span class="o">=</span> <span class="s2">&quot;./databases/liturgie_3.db&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lit_db</span> <span class="o">=</span> <span class="n">DBParser</span><span class="p">(</span><span class="n">example_data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lit_db</span>
<span class="go">&lt;database.DBParser liturgie_3.db&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">frag</span> <span class="ow">in</span> <span class="n">lit_db</span><span class="o">.</span><span class="n">fragments</span><span class="p">()[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">frag</span><span class="p">)</span>
<span class="go">&lt;fragment.Decitala 93_Ragavardhana&gt;</span>
<span class="go">&lt;fragment.Decitala 43_Malikamoda&gt;</span>
<span class="go">&lt;fragment.Decitala 105_Candrakala&gt;</span>
<span class="go">&lt;fragment.Decitala 47_Makaranda&gt;</span>
<span class="go">&lt;fragment.Decitala 88_Lakskmica&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lit_db</span><span class="o">.</span><span class="n">num_subpath_tables</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lit_db</span><span class="o">.</span><span class="n">subpath</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">[41, 43, 46]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">lit_db</span><span class="o">.</span><span class="n">subpath_data</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;fragment&quot;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;onset_range&quot;</span><span class="p">])</span>
<span class="go">&lt;fragment.Decitala 88_Lakskmica&gt; (88.75, 93.0)</span>
<span class="go">&lt;fragment.Decitala 93_Ragavardhana&gt; (93.0, 97.75)</span>
<span class="go">&lt;fragment.Decitala 47_Makaranda&gt; (98.25, 101.5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lit_db</span><span class="o">.</span><span class="n">subpath_intra_gap_score</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">95.91836734693878</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lit_db</span><span class="o">.</span><span class="n">subpath_onset_percentile</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">33.333333333333336</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the model requires weights (for table num &gt; 1, 2 values). </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lit_db</span><span class="o">.</span><span class="n">intra_subpath_model_score</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">])</span>
<span class="go">77.14285714285714</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># for table num == 1, it requires 3 weights: </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lit_db</span><span class="o">.</span><span class="n">intra_subpath_model_score</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">])</span>
<span class="go">90.0</span>
</pre></div>
</div>
<dl class="py method">
<dt id="decitala.database.DBParser.fragments">
<code class="sig-name descname">fragments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/decitala/database.html#DBParser.fragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#decitala.database.DBParser.fragments" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of all extracted fragments in the database.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="decitala.database.DBParser.slurred_fragments">
<code class="sig-name descname">slurred_fragments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/decitala/database.html#DBParser.slurred_fragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#decitala.database.DBParser.slurred_fragments" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the complete data for the extracted fragments that are slurred.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="decitala.database.DBParser.show_fragments_table">
<code class="sig-name descname">show_fragments_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/decitala/database.html#DBParser.show_fragments_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#decitala.database.DBParser.show_fragments_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the Fragments table of the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the fragments table (as a dataframe).</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="decitala.database.DBParser.show_slurred_fragments">
<code class="sig-name descname">show_slurred_fragments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/decitala/database.html#DBParser.show_slurred_fragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#decitala.database.DBParser.show_slurred_fragments" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the slurred fragments in the Fragments table of the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the subset of slurred fragments in the fragments table (as a dataframe).</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="decitala.database.DBParser.show_subpath_table">
<code class="sig-name descname">show_subpath_table</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">table_num</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/decitala/database.html#DBParser.show_subpath_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#decitala.database.DBParser.show_subpath_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the queried subpath table. These subpath tables are 1-indexed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>table_num</strong> (<em>int</em>) – 1-indexed table number.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the queried subpath tale (as a dataframe).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="decitala.database.DBParser.show_subpath">
<code class="sig-name descname">show_subpath</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">table_num</span></em>, <em class="sig-param"><span class="n">path_num</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/decitala/database.html#DBParser.show_subpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#decitala.database.DBParser.show_subpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays a queried subpath in one of the tables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table_num</strong> (<em>int</em>) – 1-indexed table number.</p></li>
<li><p><strong>path_num</strong> (<em>int</em>) – 1-indexed subpath number.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the queried subpath table (as a dataframe).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="decitala.database.DBParser.subpath">
<code class="sig-name descname">subpath</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">table_num</span></em>, <em class="sig-param"><span class="n">path_num</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/decitala/database.html#DBParser.subpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#decitala.database.DBParser.subpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the SQLite rowids for the fragments in a subpath.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table_num</strong> (<em>int</em>) – 1-indexed table number.</p></li>
<li><p><strong>path_num</strong> (<em>int</em>) – 1-indexed subpath number.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the rowids (int) for the fragments in a subpath.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="decitala.database.DBParser.subpath_data">
<code class="sig-name descname">subpath_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">table_num</span></em>, <em class="sig-param"><span class="n">path_num</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/decitala/database.html#DBParser.subpath_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#decitala.database.DBParser.subpath_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the full extracted fragment data in a given subpath.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table_num</strong> (<em>int</em>) – 1-indexed table number.</p></li>
<li><p><strong>path_num</strong> (<em>int</em>) – 1-indexed subpath number.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the complete fragment data for a subpath</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="decitala.database.DBParser.table_average_onsets_per_fragment_per_subpath">
<code class="sig-name descname">table_average_onsets_per_fragment_per_subpath</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">table_num</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/decitala/database.html#DBParser.table_average_onsets_per_fragment_per_subpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#decitala.database.DBParser.table_average_onsets_per_fragment_per_subpath" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a bit hacky: this method is called in the __init__ and returns the average
number of onsets for each fragment in each subpath of the table. Thus, if a paths
table has 3 rows, this method returns a list of 3 numbers, each of which corresponds
to the average number of onsets in a fragment in that subpath.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>table_num</strong> (<em>int</em>) – 1-indexed table number.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list (of length equal to the number of rows in the queried <code class="docutils literal notranslate"><span class="pre">Paths</span></code> table) 
holding the average number of onsets (type: float) for a fragment in each subpath.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="decitala.database.DBParser.subpath_onset_percentile">
<code class="sig-name descname">subpath_onset_percentile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">table_num</span></em>, <em class="sig-param"><span class="n">path_num</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/decitala/database.html#DBParser.subpath_onset_percentile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#decitala.database.DBParser.subpath_onset_percentile" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the data from <a class="reference internal" href="#decitala.database.DBParser.table_average_onsets_per_fragment_per_subpath" title="decitala.database.DBParser.table_average_onsets_per_fragment_per_subpath"><code class="xref py py-obj docutils literal notranslate"><span class="pre">table_average_onsets_per_fragment_per_subpath</span></code></a>, gets the 
percentile of a given subpath.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table_num</strong> (<em>int</em>) – 1-indexed table number.</p></li>
<li><p><strong>path_num</strong> (<em>int</em>) – 1-indexed subpath number.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>percentile (0-100) of a given subpath in the context of its full <code class="docutils literal notranslate"><span class="pre">Paths</span></code> table.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="decitala.database.DBParser.first_subpath_start_gap_score">
<code class="sig-name descname">first_subpath_start_gap_score</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path_num</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/decitala/database.html#DBParser.first_subpath_start_gap_score"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#decitala.database.DBParser.first_subpath_start_gap_score" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path_num</strong> (<em>int</em>) – 1-indexed subpath number.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the proportion of the starting gap (i.e. the empty region from the earliest detected onset in the table
to the start of the queried subpath) to the total range of the queried subpath in the first table.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="decitala.database.DBParser.subpath_intra_gap_score">
<code class="sig-name descname">subpath_intra_gap_score</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">table_num</span></em>, <em class="sig-param"><span class="n">path_num</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/decitala/database.html#DBParser.subpath_intra_gap_score"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#decitala.database.DBParser.subpath_intra_gap_score" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the proportion of gaps in a subpath.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table_num</strong> (<em>int</em>) – 1-indexed table number.</p></li>
<li><p><strong>path_num</strong> (<em>int</em>) – 1-indexed subpath number.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>proportion of the total gaps between fragments in a subpath to the total range of the subpath.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="decitala.database.DBParser.subpath_inter_gap_score">
<code class="sig-name descname">subpath_inter_gap_score</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">table_num_a</span></em>, <em class="sig-param"><span class="n">path_num_a</span></em>, <em class="sig-param"><span class="n">table_num_b</span></em>, <em class="sig-param"><span class="n">path_num_b</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/decitala/database.html#DBParser.subpath_inter_gap_score"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#decitala.database.DBParser.subpath_inter_gap_score" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the proportion of the gap between two subpaths to the whole range of the paths.</p>
</dd></dl>

<dl class="py method">
<dt id="decitala.database.DBParser.intra_subpath_model_score">
<code class="sig-name descname">intra_subpath_model_score</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">table_num</span></em>, <em class="sig-param"><span class="n">path_num</span></em>, <em class="sig-param"><span class="n">weights</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/decitala/database.html#DBParser.intra_subpath_model_score"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#decitala.database.DBParser.intra_subpath_model_score" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table_num</strong> (<em>int</em>) – 1-indexed table number.</p></li>
<li><p><strong>path_num</strong> (<em>int</em>) – 1-indexed subpath number.</p></li>
<li><p><strong>weights</strong> (<em>list</em>) – intra-subpath weights.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns the intra-subpath model score.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="decitala.database.DBParser.highest_modeled_subpath">
<code class="sig-name descname">highest_modeled_subpath</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">table_num</span></em>, <em class="sig-param"><span class="n">weights</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/decitala/database.html#DBParser.highest_modeled_subpath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#decitala.database.DBParser.highest_modeled_subpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the highest modeled subpath in the table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table_num</strong> (<em>int</em>) – 1-indexed table number.</p></li>
<li><p><strong>weights</strong> (<em>list</em>) – intra-subpath weights.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="decitala.database.DBParser.model_full_path">
<code class="sig-name descname">model_full_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start_weights</span><span class="o">=</span><span class="default_value">[0.5, 0.3, 0.2]</span></em>, <em class="sig-param"><span class="n">rest_weights</span><span class="o">=</span><span class="default_value">[0.7, 0.3]</span></em>, <em class="sig-param"><span class="n">intra_inter_weights</span><span class="o">=</span><span class="default_value">[0.8, 0.2]</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/decitala/database.html#DBParser.model_full_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#decitala.database.DBParser.model_full_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of highest modeled subpath nums for each table.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="fragment.html" class="btn btn-neutral float-right" title="fragment.py" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Decitala Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Luke Poeppel.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>